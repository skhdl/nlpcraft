---
active_crumb: Docs
layout: interior
---

<!--
   “Commons Clause” License, https://commonsclause.com/

   The Software is provided to you by the Licensor under the License,
   as defined below, subject to the following condition.

   Without limiting other conditions in the License, the grant of rights
   under the License will not include, and the License does not grant to
   you, the right to Sell the Software.

   For purposes of the foregoing, “Sell” means practicing any or all of
   the rights granted to you under the License to provide to third parties,
   for a fee or other consideration (including without limitation fees for
   hosting or consulting/support services related to the Software), a
   product or service whose value derives, entirely or substantially, from
   the functionality of the Software. Any license notice or attribution
   required by the License must also include this Commons Clause License
   Condition notice.

   Software:    NLPCraft
   License:     Apache 2.0, https://www.apache.org/licenses/LICENSE-2.0
   Licensor:    Copyright (C) 2018 DataLingvo, Inc. https://www.datalingvo.com

       _   ____      ______           ______
      / | / / /___  / ____/________ _/ __/ /_
     /  |/ / / __ \/ /   / ___/ __ `/ /_/ __/
    / /|  / / /_/ / /___/ /  / /_/ / __/ /_
   /_/ |_/_/ .___/\____/_/   \__,_/_/  \__/
          /_/
-->

<h1 class="page-title">
    <span><i class="fas fa-fw fa-book"></i> {{ page.active_crumb }}</span>
</h1>

<div class="three-cols-container">
    <div class="col-md-2 first-column">
        <ul class="side-nav">
            <li class="side-nav-title">Introduction</li>
            <li><a href="/docs.html">Overview</a></li>
            <li><a href="/installation.html">Installation</a></li>
            <li><a href="#getting-started">Getting Started</a></li>
            <li class="side-nav-title">Developer Guide</li>
        </ul>
    </div>
    <div class="col-md-8 second-column">
        <section id="getting-started">
            <span class="section-title">Getting Started</span>
            <p>
                In this section we'll take a quick 10 minutes look at running and
                testing <a href="https://github.com/vic64/nlpcraft/tree/master/src/main/scala/org/nlpcraft/examples" target="github">examples</a> along with
                running the main components of NLPCraft: data probe and REST server. We'll assume you have already
                <a href="/download.html">downloaded</a> NLPCraft and looked through <a href="/installation.html">installation</a> instructions.
                We'll also assume Mac OS/Linux environment and that NLPCraft was downloaded and installed as a ZIP archive.
            </p>
        </section>
        <section id="probe-server">
            <span class="section-title">Data Probe <span class="amp">&amp;</span> REST Server</span>
            <p>
                Both data probe and the REST server start the same way. We'll use command line to start the both.
                Open two console windows and start server first and then data probe by typing these commands:
            </p>
            <nav>
                <div class="nav nav-tabs" role="tablist">
                    <a class="nav-item nav-link active" data-toggle="tab" href="#nav-srv-start" role="tab" aria-controls="nav-home" aria-selected="true">REST Server</a>
                    <a class="nav-item nav-link" data-toggle="tab" href="#nav-probe-start" role="tab" aria-controls="nav-home" aria-selected="true">Data Probe</a>
                </div>
            </nav>
            <div class="tab-content">
                <div class="tab-pane fade show active" id="nav-srv-start" role="tabpanel">
                    <pre class="brush: plain">
                        $ cd build/nlpcraft-{{site.latest_version}}
                        $ java -jar nlpcraft-{{site.latest_version}}-all-deps.jar -server
                    </pre>
                    <p>
                        By default REST server starts with default configuration (<code>application.conf</code> and
                        <code>ignite.xml</code> files located in the same folder as <code>nlpcraft-{{site.latest_version}}-all-deps.jar</code>
                        file). You should see the output similar to this indicating that server has stared
                        and is listening on default REST endpoints <code>localhost:8081</code>:
                    </p>
                    <pre class="brush: plain">
                            _   ____      ______           ______
                           / | / / /___  / ____/________ _/ __/ /_
                          /  |/ / / __ \/ /   / ___/ __ `/ /_/ __/
                         / /|  / / /_/ / /___/ /  / /_/ / __/ /_
                        /_/ |_/_/ .___/\____/_/   \__,_/_/  \__/
                               /_/

                        Server
                        Version: {{site.latest_version}}
                        Copyright (C) DataLingvo, Inc.

                        ...

                        +-------------------------+
                        | Server started [19.35s] |
                        +-------------------------+


                        Mar-11 23:21:04 [INFO ] REST server is listening on 'localhost:8081'.
                    </pre>
                </div>
                <div class="tab-pane fade show" id="nav-probe-start" role="tabpanel">
                    <pre class="brush: plain">
                        $ cd build/nlpcraft-{{site.latest_version}}
                        $ java -jar nlpcraft-{{site.latest_version}}-all-deps.jar -probe
                    </pre>
                    <p>
                        By default data probe starts with default <code>probe.conf</code>  file
                        (located in the same folder as <code>nlpcraft-{{site.latest_version}}-all-deps.jar</code> file) that deploys
                        all example models shipped with NLPCraft. You should see the output similar to this:
                    </p>
                    <pre class="brush: plain">
                        _   ____      ______           ______
                       / | / / /___  / ____/________ _/ __/ /_
                      /  |/ / / __ \/ /   / ___/ __ `/ /_/ __/
                     / /|  / / /_/ / /___/ /  / /_/ / __/ /_
                    /_/ |_/_/ .___/\____/_/   \__,_/_/  \__/
                           /_/

                    Data Probe
                    Version: {{site.latest_version}}
                    Copyright (C) DataLingvo, Inc.

                    Mar-11 23:25:52 [INFO ] Probe Configuration:
                    +--------------------------------------------------------------------+
                    | Probe ID        | all.examples                                     |
                    | Probe Token     | 3141592653589793                                 |
                    | API Version     | {{site.latest_version}}, 2019-03-01                                |
                    | Down-Link       | localhost:8202                                   |
                    | Up-Link         | localhost:8201                                   |
                    +-----------------+--------------------------------------------------+
                    | Model providers | org.nlpcraft.examples.alarm.AlarmModel           |
                    |                 | org.nlpcraft.examples.echo.EchoModel             |
                    |                 | org.nlpcraft.examples.helloworld.HelloWorldModel |
                    |                 | org.nlpcraft.examples.time.TimeModel             |
                    |                 | org.nlpcraft.examples.weather.WeatherModel       |
                    +-----------------+--------------------------------------------------+
                    | JARs Folder     |                                                  |
                    +--------------------------------------------------------------------+

                    ...

                    Mar-11 23:25:56 [INFO ] Models deployed: 5

                    +================================================================================+
                    |        Model ID        |           Name           | Ver. | Elements | Synonyms |
                    +================================================================================+
                    | nlpcraft.alarm.ex      | Alarm Example Model      | 1.0  | 1        | 419      |
                    | nlpcraft.weather.ex    | Weather Example Model    | 1.0  | 3        | 9045     |
                    | nlpcraft.helloworld.ex | HelloWorld Example Model | 1.0  | 0        | 0        |
                    | nlpcraft.time.ex       | Time Example Model       | 1.0  | 1        | 432      |
                    | nlpcraft.echo.ex       | Echo Example Model       | 1.0  | 0        | 0        |
                    +--------------------------------------------------------------------------------+

                    ...

                    +--------------------------+
                    | Probe started [5.12 sec] |
                    +--------------------------+

                    ...

                    Mar-11 23:25:58 [INFO ] Server connection established.
                    </pre>
                </div>
            </div>
            <p>
                At this point you have both data probe and REST server started and connected. We are ready to start calling
                REST API to use natural language interface to query our example models.
            </p>
        </section>
        <section id="querying">
            <span class="section-title">Using REST API</span>
            <p>
                There are countless way to issue REST calls - for our examples we'll use <a target="wiki" href="https://en.wikipedia.org/wiki/CURL">cURL</a> utility.
                NLPCraft comes with a convenient wrapper script <code>bin/nccurl.sh</code> that shortens
                command line of the standard <code>cURL</code>. We recommend adding <code>bin/nccurl.sh</code> to
                your <code>$PATH</code> environment variable.
            </p>
            <div class="bq info">
                We'll go over the full REST API
                <a href="https://nlpcraft.docs.apiary.io" target="apiary">functionality</a> as well as the
                detailed explanation of data model and data sources later in <a href="/dev_guide.html">Developer Guide</a>.
            </div>
            <p>
                Note also that we'll use python to format
                cURL JSON responses from the server. Make sure you have python <a target=_ href="https://www.python.org/downloads/">installed</a>.
            </p>
            <span class="section-sub-title"><b><code>user/signin</code></b></span>
            <p>
                First, we need to sign in and obtain access token for further operations. When REST server starts
                for the first time it creates a default user with email <code>admin@admin.com</code> and
                <code>admin</code> password. We'll use these credentials for sing in:
            </p>
            <pre class="brush: js; highlight: [2, 3, 4, 5]">
                $ nccurl.sh user/signin '{"email": "admin@admin.com", "passwd": "admin"}' | python -m json.tool
                {
                    "acsTok": "KMGWMQJ44",
                    "status": "API_OK"
                }
            </pre>
            <p>
                Note access token <b>KMGWMQJ44</b> which we'll use in subsequent operations. Keep in mind that you
                will obviously  have different access tokens and IDs when you are performing these steps yourself.
            </p>
            <span class="section-sub-title"><b><code>ds/add</code></b></span>
            <p>
                In NLPCraft data models define a class of models, while data sources define a particular
                instance of that model (i.e. a data model can have multiple data sources with different configurations).
                In this example, we are going to be asking questions about the weather forecast and we'll
                use <a target="github" href="https://github.com/vic64/nlpcraft/tree/master/src/main/scala/org/nlpcraft/examples/weather">Weather Example</a>
                for that. Lets add a new data source for the model from this example:
            </p>
            <pre class="brush: js; highlight: [2, 3, 4, 5]">
                ./nccurl.sh ds/add '{"acsTok": "KMGWMQJ44", "name": "weather", "shortDesc": "example", "mdlId": "nlpcraft.weather.ex", "mdlName": "Weather Example Model", "mdlVer": "1.0"}' | python -m json.tool
                {
                    "id": 8003,
                    "status": "API_OK"
                }
            </pre>
            <p>
                Note the new data source ID <code>8003</code>. As before, the actual value will be different
                when you are performing these steps yourself.
            </p>
            <div class="bq info">
                Note that adding new data source is done only once. User doesn't have to do it on each sign in.
            </div>

            <span class="section-sub-title"><b><code>/ask</code></b> <span class="amp">&amp;</span> <b><code>/check</code></b></span>
            <p>
                Now that we have the data source added we can go ahead and start asking natural language questions against
                this data source:
            </p>
            <p>
                <b>Q1: What is the current forecast for Chicago?</b>
            </p>
            <pre class="brush: js highlight: [2, 3, 4, 5]">
                $ ./nccurl.sh ask '{"acsTok": "KMGWMQJ44", "txt": "what is the current forecast for Chicago?", "dsId": 8003}' | python -m json.tool
                {
                    "srvReqId": "gJ0OJ0qXp",
                    "status": "API_OK"
                }
            </pre>
            <p>
                Note the returned server request ID <b>gJ0OJ0qXp</b> which we'll use in the next step to get our answer.
            </p>
            <span class="section-sub-title"><b><code>/check</code></b></span>
            <p>

            </p>
            <span class="section-sub-title"><b><code>/signout</code></b></span>
            <p>

            </p>
        </section>
    </div>
    <div class="col-md-2 third-column">
        <ul class="side-nav">
            <li class="side-nav-title">On This Page</li>
            <li><a href="#getting-started">Getting Started</a></li>
            <li><a href="#probe-server">Data Probe <span class="amp">&amp;</span> Server</a></li>
            <li><a href="#querying">Using REST API</a></li>
            <li class="side-nav-title">Quick Links</li>
            <li>
                <img class="quick-link-img mr-2" src="/images/github_logo.png"><a
                target="github"
                href="https://github.com/vic64/nlpcraft/tree/master/src/main/scala/org/nlpcraft/examples">Examples</a>
            </li>
            <li>
                <img class="quick-link-img mr-2" src="/images/java.png"><a
                target="javadoc"
                href="/apis/latest/index.html">Javadoc</a>
            </li>
            <li>
                <img class="quick-link-img mr-2" src="/images/apiary.svg"><a
                href="https://nlpcraft.docs.apiary.io"
                target="apiary">REST API</a>
            </li>
            <li>
                <i class="fas fa-download mr-2"></i><a href="/download">Download</a>
            </li>
            <li class="side-nav-title">Support</li>
            <li>
                <nobr>
                    <i class="far fa-fw fa-envelope mr-2"></i><a href="mailto:support@nlpcraft.org">Email</a>
                </nobr>
            </li>
            <li>
                <nobr>
                    <i class="fab fa-fw fa-stack-overflow mr-2"></i><a target="so" href="https://stackoverflow.com/questions/ask">Stack Overflow</a>
                </nobr>
            </li>
            <li>
                <nobr>
                    <i class="fab fa-fw fa-github mr-2"></i><a target="github" href="https://github.com/vic64/nlpcraft/issues">GitHub</a>
                </nobr>
            </li>
        </ul>
    </div>
</div>



