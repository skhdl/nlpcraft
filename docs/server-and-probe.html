---
active_crumb: Server <span class="amp">&amp;</span> Probe
layout: documentation
---

<!--
   “Commons Clause” License, https://commonsclause.com/

   The Software is provided to you by the Licensor under the License,
   as defined below, subject to the following condition.

   Without limiting other conditions in the License, the grant of rights
   under the License will not include, and the License does not grant to
   you, the right to Sell the Software.

   For purposes of the foregoing, “Sell” means practicing any or all of
   the rights granted to you under the License to provide to third parties,
   for a fee or other consideration (including without limitation fees for
   hosting or consulting/support services related to the Software), a
   product or service whose value derives, entirely or substantially, from
   the functionality of the Software. Any license notice or attribution
   required by the License must also include this Commons Clause License
   Condition notice.

   Software:    NLPCraft
   License:     Apache 2.0, https://www.apache.org/licenses/LICENSE-2.0
   Licensor:    Copyright (C) 2018 DataLingvo, Inc. https://www.datalingvo.com

       _   ____      ______           ______
      / | / / /___  / ____/________ _/ __/ /_
     /  |/ / / __ \/ /   / ___/ __ `/ /_/ __/
    / /|  / / /_/ / /___/ /  / /_/ / __/ /_
   /_/ |_/_/ .___/\____/_/   \__,_/_/  \__/
          /_/
-->

<div class="col-md-8 second-column">
    <section>
        <span class="section-title">Overview</span>
        <p>
            As mentioned in <a href="/docs.html">overview</a> section the REST server and data probe are the two
            runtime components that you need to run when using NLPCraft.
            Data probes are used to deploy and host data model, while REST server (or a cluster of servers) is used
            to accept client REST call and route them to the data models via data probes.
        </p>
        <div class="bq info">
            <b>REST Server vs. Data Probe</b>
            <p>
                It's important to remember why REST server is a separate component from a data probe. While a
                typical deployment would have only one REST server (or a cluster of REST servers behind a single
                load balancer), there are maybe multiple data probes hosting different data models deployed in
                different physical locations, managed through different life cycles and requiring different
                security and network configurations.
            </p>
            <p>
                Moreover, REST server is a heavy and resource consuming component that is built around Apache
                Ignite distributing in-memory computing capabilities - while the data probe is a lightweight
                data model container. During the development and testing of data models, the developers need to
                frequently redeploy data models by restarting the data probe. If the REST server and the data probe
                would be one component - this process would be very inefficient.
            </p>
        </div>
        <p>
            Fro the rest of this section we assume that NLPCraft was <a href="/download.html">downloaded</a> and
            <a href="/installation.html">installed</a> via ZIP archive. However, all instructions below are fully
            applicable to any type of installation.
        </p>
        <p>
            Once NLPCraft is downloaded as a ZIP archive and unzipped, the current directory will look like this:
        </p>
        <pre class="console">
├── LICENSE
├── bin
├── sql
├── build
│   └── nlpcraft-{{site.latest_version}}
│       ├── application.conf
│       ├── ignite.xml
│       ├── log4j2.xml
│       ├── probe.conf
│       └── <b>nlpcraft-{{site.latest_version}}-all-deps.jar</b>
├── javadoc
├── openapi
└── src
        </pre>
        <p>
            Regardless of how NLPCraft was installed it comes with a single executable JAR file that includes all
            necessary dependencies (file <code>build/nlpcraft-{{site.latest_version}}/<b>nlpcraft-{{site.latest_version}}-all-deps.jar</b></code> if installed
            via ZIP archive). This JAR file includes binaries for data probe, data model APIs and the REST server.
        </p>
    </section>
    <section id="server">
        <span class="section-title">REST Server</span>
        <p>
            As mentioned above REST server (or a cluster of servers) is used to accept client REST call and
            route them to the data model via data probes. Note that both data probe and the REST server start the same way.
        </p>
        <p>
            Just like data probe the REST server can be stared from either the command line or
            IDE such as Eclipse or IntelliJ IDEA:
        </p>
        <nav>
            <div class="nav nav-tabs" role="tablist">
                <a class="nav-item nav-link active" data-toggle="tab" href="#nav-srv-cmd" role="tab" aria-controls="nav-home" aria-selected="true">Command Line</a>
                <a class="nav-item nav-link" data-toggle="tab" href="#nav-srv-ide" role="tab" aria-controls="nav-home" aria-selected="true">IDE</a>
            </div>
        </nav>
        <div class="tab-content">
            <div class="tab-pane fade show active" id="nav-srv-cmd" role="tabpanel">
                <pre class="brush: plain">
                    $ cd build/nlpcraft-{{site.latest_version}}
                    $ java -jar nlpcraft-{{site.latest_version}}-all-deps.jar -server
                </pre>
            </div>
            <div class="tab-pane fade show" id="nav-srv-ide" role="tabpanel">
                <p style="padding-top: 10px">
                    Configure run configuration with the main class <code>org.nlpcraft.NCStart</code>.
                </p>
            </div>
        </div>
        Parameters:
        <dl>
            <dt>
                <code>-server</code>
            </dt>
            <dd>
                Mandatory parameter to indicate that you are starting the REST server.
            </dd>
            <dt><code>-config=path</code></dt>
            <dd>
                Optional parameter to provide server configuration file path.
                Server will automatically look for <code>application.conf</code> configuration file in the same directory
                as <code>nlpcraft-{{site.latest_version}}-all-deps.jar</code> file. If the configuration
                file has different name or in different location use <code>-config=path</code> parameter
                where <code>path</code> is an absolute path to the server configuration file.
            </dd>
            <dt><code>-igniteConfig=path</code></dt>
            <dd>
                Optional parameter to provide <a target=_ href="https://ignite.apache.org/">Apache Ignite</a> configuration file path.
                Note that Apache Ignite is used as a cluster computing plane and a default distributed storage.
                Server will automatically look for <code>ignite.xml</code>
                configuration file in the same directory as <code>nlpcraft-{{site.latest_version}}-all-deps.jar</code> file.
                If the configuration file has different name or in different location use <code>-igniteConfig=path</code> parameter
                where <code>path</code> is an absolute path to the Ignite configuration file.
            </dd>
        </dl>
    </section>
    <section id="probe">
        <span class="section-title">Data Probe</span>
        <p>
            Data probe can be started from either the command line or IDE such as Eclipse or IntelliJ IDEA:
        </p>
        <nav>
            <div class="nav nav-tabs" role="tablist">
                <a class="nav-item nav-link active" data-toggle="tab" href="#nav-probe-cmd" role="tab" aria-controls="nav-home" aria-selected="true">Command Line</a>
                <a class="nav-item nav-link" data-toggle="tab" href="#nav-probe-ide" role="tab" aria-controls="nav-home" aria-selected="true">IDE</a>
            </div>
        </nav>
        <div class="tab-content">
            <div class="tab-pane fade show active" id="nav-probe-cmd" role="tabpanel">
                <pre class="brush: plain">
                    $ cd build/nlpcraft-{{site.latest_version}}
                    $ java -jar nlpcraft-{{site.latest_version}}-all-deps.jar -probe
                </pre>
            </div>
            <div class="tab-pane fade show" id="nav-probe-ide" role="tabpanel">
                <p style="padding-top: 10px">
                    Configure run configuration with the main class <code>org.nlpcraft.NCStart</code>.
                </p>
            </div>
        </div>
        Parameters:
        <dl>
            <dt>
                <code>-probe</code>
            </dt>
            <dd>
                Mandatory parameter to indicate that you are starting a data probe.
            </dd>
            <dt><code>-config=path</code></dt>
            <dd>
                Optional parameter to provide probe configuration file path.
                Data probe will automatically look for <code>probe.conf</code> configuration file in the same directory
                as <code>nlpcraft-{{site.latest_version}}-all-deps.jar</code> file. If the configuration
                file has different name or in different location use <code>-config=path</code> parameter
                where <code>path</code> is an absolute path to the data probe configuration file
            </dd>
        </dl>
    </section>
    <section id="props">
        <span class="section-title">JVM Properties</span>
    </section>
</div>
<div class="col-md-2 third-column">
    <ul class="side-nav">
        <li class="side-nav-title">On This Page</li>
        <li><a href="#server">REST Server</a></li>
        <li><a href="#probe">Data Probe</a></li>
        <li><a href="#props">JVM Properties</a></li>
        <li class="side-nav-title">Quick Links</li>
        <li>
            <img class="quick-link-img mr-2" src="/images/github_logo.png"><a
            target="github"
            href="https://github.com/vic64/nlpcraft/tree/master/src/main/scala/org/nlpcraft/examples">Examples</a>
        </li>
        <li>
            <img class="quick-link-img mr-2" src="/images/java.png"><a
            target=_
            href="/apis/latest/index.html">Javadoc</a>
        </li>
        <li>
            <img class="quick-link-img mr-2" src="/images/apiary.svg"><a
            href="https://nlpcraft.docs.apiary.io"
            target="apiary">REST API</a>
        </li>
        <li>
            <i class="fas fa-download mr-2"></i><a href="/download">Download</a>
        </li>
        <li class="side-nav-title">Support</li>
        <li>
            <nobr>
                <i class="far fa-fw fa-envelope mr-2"></i><a href="mailto:support@nlpcraft.org">Email</a>
            </nobr>
        </li>
        <li>
            <nobr>
                <i class="fab fa-fw fa-stack-overflow mr-2"></i><a target="so" href="https://stackoverflow.com/questions/ask">Stack Overflow</a>
            </nobr>
        </li>
        <li>
            <nobr>
                <i class="fab fa-fw fa-github mr-2"></i><a target="github" href="https://github.com/vic64/nlpcraft/issues">GitHub</a>
            </nobr>
        </li>
    </ul>
</div>




